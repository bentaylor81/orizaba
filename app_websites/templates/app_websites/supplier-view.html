{% extends 'app_websites/global/base.html' %}
{% load humanize %}
{% load static %}

{% block content %}

<section id="supplier">

    <div class="top-bar">
        <h1>Supplier &nbsp;&nbsp;>&nbsp;&nbsp; {{ supplier.supplier }}</h1>
    </div>

    <div class="content">

        <!-- SUPPLIER SUMMARY -->
        <div class="pod summary">
            <h2>Supplier Details</h2>
            Number of Products: <span>{{ product_count|intcomma }}</span><br />
            Cheapest Product: <span>£{{ cheap_product.sell_price }} - {{ cheap_product.product_name }}</span><br />
            Most expensive Product: <span>£{{ expen_product.sell_price|intcomma }} - {{ expen_product.product_name }}</span><br />
        </div>

        <!-- SUPPLIER PRODUCT FILTERS -->     
        <div class="filter">
            <form method="get">
                {{ supplierproductFilter.form }}
                <button type="submit">Search</button>
            </form>
        </div>
        
        <!-- SUPPLIER PRODUCT PAGINATION -->
        {% include 'app_websites/global/pagination.html' %}

        <!-- SUPPLIER PRODUCTS --> 
        <div class="pod">
            <h2>{{ supplier.supplier }} Products</h2>
            <table cellpadding="0" cellspacing="0">
                <tr>
                    <td class="head">Product Name</td>
                    <td class="head col-120">SKU</td>
                    <td class="head col-60">Buy Price</td>
                    <td class="head col-60">Sell Price</td>
                    <td class="head col-60">In Stock</td>
                    <td class="head col-60">Profit</td>
                    <td class="head col-60">Weight</td>
                    <td class="head col-140">Brand</td>
                    <td class="head col-140">Location</td>
                </tr>
            {% for product in items %}	
                <tr class="{% cycle 'row1' 'row2' %}">
                    <td class="first-col"><a href={% url 'product-view' product.product_id %}>{{ product.product_name }}</a></td>
                    <td>{{ product.sku }}</td>	
                    <td class="highlight">£{{ product.buy_price|intcomma }}</td>
                    <td class="highlight">£{{ product.sell_price|intcomma }}</td>
                    <td class="highlight">{{ product.stock_qty }}</td>
                    <td class="highlight">£{{ product.profit }}</td>
                    <td>{{ product.weight|floatformat:2 }}</td>
                    <td>{{ product.brand }}</td>	
                    <td>{{ product.location }}</td>
                </tr>
            {% endfor %}
            </table>
        </div>

        <!-- SUPPLIER PRODUCT PAGINATION -->
        {% include 'app_websites/global/pagination.html' %}

    </div>
</section>

{% endblock %}